# Implementation Context - Tab & Pane Naming

## North Star üåü
**Original Goal:** Enable users to rename tabs and panes with meaningful names that persist across sessions

## Current Status
- **Branch:** feature/tab-pane-naming
- **Design:** docs/features/TAB_PANE_NAMING_DESIGN.md
- **Lock File:** .design-lock.yml

## Implementation Plan (Incremental)

### Phase 1: Basic Infrastructure (Current)
1. [ ] Add name field to tab data structure
2. [ ] Add name field to pane data structure
3. [ ] Create RenameEditor widget
4. [ ] Add commands for rename actions

### Phase 2: Tab Renaming
1. [ ] Double-click to rename tabs
2. [ ] F2 keyboard shortcut
3. [ ] Visual feedback during rename
4. [ ] Escape/Enter handling

### Phase 3: Pane Renaming
1. [ ] Right-click context menu
2. [ ] Rename command in palette
3. [ ] Visual indicator for named panes
4. [ ] Default name generation

### Phase 4: Persistence
1. [ ] Save names in StateService
2. [ ] Restore on app start
3. [ ] Handle renamed item deletion
4. [ ] Migration for existing state

### Phase 5: Polish
1. [ ] Visual distinction for custom names
2. [ ] Tooltip showing custom names
3. [ ] Clear/reset name option
4. [ ] Tests and documentation

## Key Constraints (DO NOT VIOLATE)
- ‚úÖ Use existing StateService for persistence
- ‚úÖ Use command pattern for all actions
- ‚úÖ Keep names separate from model (in state)
- ‚úÖ Follow existing widget patterns
- ‚ùå Do NOT modify core model classes
- ‚ùå Do NOT create new base classes
- ‚ùå Do NOT break existing functionality

## Validation After Each Step
```bash
# Quick validation
python -m py_compile <changed_file>
timeout 3 python main.py  # App still starts?

# Full validation (less frequent)
python tests/test_smoke.py
```

## Context for Next Increment
**Current Step:** Setting up infrastructure
**Next Step:** Add name field to tab data
**Must Maintain:** All existing tab functionality
**Watch For:** Any TypeError or AttributeError